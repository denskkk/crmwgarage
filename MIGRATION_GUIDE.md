# üéØ –ì–æ—Ç–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: –ó–∞–ø—É—Å–∫ CRM –∑ —É—Å—ñ–º–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏

–¶—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –≤—Å—ñ—Ö 33 —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ W-Garage —É Supabase –∑ —ó—Ö–Ω—ñ–º–∏ –ø–∞—Ä–æ–ª—è–º–∏ —Ç–∞ —Ä–æ–ª—è–º–∏.

---

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç —É Supabase

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [supabase.com](https://supabase.com) ‚Üí **New Project**
2. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
   - **Name**: `crmwgarage`
   - **Database Password**: —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–∞–¥—ñ–π–Ω–∏–π –ø–∞—Ä–æ–ª—å (–∑–±–µ—Ä–µ–∂—ñ—Ç—å!)
   - **Region**: Europe West (–∞–±–æ –Ω–∞–π–±–ª–∏–∂—á–∏–π)
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Create new project**
4. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è —Å—Ç–∞—Ç—É—Å—É "Active" (~2 —Ö–≤–∏–ª–∏–Ω–∏)

---

## –ö—Ä–æ–∫ 2: –°–∫–æ–ø—ñ—é–π—Ç–µ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ

1. –£ –ø—Ä–æ–µ–∫—Ç—ñ: **Settings** ‚Üí **API**
2. –°–∫–æ–ø—ñ—é–π—Ç–µ:
   - **Project URL** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://abcdefgh.supabase.co`)
   - **anon public** key
   - **service_role** key ‚ö†Ô∏è (–¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó, —Ç—Ä–∏–º–∞–π—Ç–µ –≤ —Å–µ–∫—Ä–µ—Ç—ñ!)

3. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env.local` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```powershell
Copy-Item .env.example .env.local
```

4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `.env.local` —ñ –≤—Å—Ç–∞–≤—Ç–µ:

```
VITE_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
VITE_SUPABASE_ANON_KEY=–≤–∞—à-anon-key
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à-service-role-key
```

---

## –ö—Ä–æ–∫ 3: –ó–∞—Å—Ç–æ—Å—É–π—Ç–µ SQL-—Å—Ö–µ–º—É

1. –£ Supabase: **SQL Editor** ‚Üí **New query**
2. –°–∫–æ–ø—ñ—é–π—Ç–µ **–≤–µ—Å—å —Ñ–∞–π–ª** `supabase-setup.sql` –∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
3. –í—Å—Ç–∞–≤—Ç–µ –≤ SQL Editor ‚Üí **Run** (–∞–±–æ F5)

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ:
```
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!
‚úÖ v2 multi-tenant CRM schema applied
```

---

## –ö—Ä–æ–∫ 4: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –º—ñ–≥—Ä–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

–¶–µ–π –∫—Ä–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å:
- ‚úÖ –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—é "W-Garage"
- ‚úÖ 33 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑—ñ —Å–ø—Ä–∞–≤–∂–Ω—ñ–º–∏ email/–ø–∞—Ä–æ–ª—è–º–∏
- ‚úÖ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π (owner/inspector/employee)
- ‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω–∏–π pipeline –ø—Ä–æ–¥–∞–∂—ñ–≤

–í–∏–∫–æ–Ω–∞–π—Ç–µ:

```powershell
npm install
npm run migrate
```

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å:

```
üöÄ Starting W-Garage user migration to Supabase...

üì¶ Creating W-Garage organization...
‚úÖ Organization created: abc-123-def

üìä Creating default sales pipeline...
‚úÖ Pipeline and stages created

üë• Creating 33 users...

‚úÖ –í–∞–ª–µ—Ä—ñ–π –Ü–≤–∞–Ω–æ–≤–∏—á (dandali.v@gmail.com) - —Ä–æ–ª—å: owner
‚úÖ –í—ñ–∫—Ç–æ—Ä—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞ (viktoria.turuta@gmail.com) - —Ä–æ–ª—å: owner
‚úÖ –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä (admin@wgarage.com) - —Ä–æ–ª—å: owner
‚úÖ –ü—É—Å—Ç–æ–≤–æ–π –Ü–≥–æ—Ä (7355797@gmail.com) - —Ä–æ–ª—å: inspector
... (—â–µ 29 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)

============================================================
‚úÖ –£—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ: 33 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚ùå –ü–æ–º–∏–ª–æ–∫: 0
üè¢ Organization ID: abc-123-def-456
============================================================
```

**–ó–±–µ—Ä–µ–∂—ñ—Ç—å Organization ID!**

---

## –ö—Ä–æ–∫ 5: –î–æ–¥–∞–π—Ç–µ Organization ID —É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `.env.local` —ñ –¥–æ–¥–∞–π—Ç–µ —Ä—è–¥–æ–∫:

```
VITE_ORGANIZATION_ID=abc-123-def-456
```

(–≤—Å—Ç–∞–≤—Ç–µ –≤–∞—à —Å–ø—Ä–∞–≤–∂–Ω—ñ–π Organization ID –∑—ñ —Å–∫—Ä–∏–ø—Ç–∞)

---

## –ö—Ä–æ–∫ 6: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫

```powershell
npm run dev
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:5173

---

## –ö—Ä–æ–∫ 7: –£–≤—ñ–π–¥—ñ—Ç—å –ø—ñ–¥ –±—É–¥—å-—è–∫–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º

–¢–µ–ø–µ—Ä —É—Å—ñ 33 —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏ –º–æ–∂—É—Ç—å —É–≤—ñ–π—Ç–∏ –∑—ñ —Å–≤–æ—ó–º–∏ –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö:

### –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ (–≤–ª–∞—Å–Ω–∏–∫–∏):
- **dandali.v@gmail.com** / Boss2024
- **viktoria.turuta@gmail.com** / Boss2024
- **admin@wgarage.com** / admin123

### –Ü–Ω—Å–ø–µ–∫—Ç–æ—Ä–∏:
- **7355797@gmail.com** / Inspector2024 (–ü—É—Å—Ç–æ–≤–æ–π –Ü–≥–æ—Ä)
- **juliamolodaya@ukr.net** / Inspector2024 (–ú–æ–ª–æ–¥–∞ –Æ–ª—ñ—è)
- **gvv1510@gmail.com** / Inspector2024 (–ì–∞–ª—è–Ω—Ç –í–æ–ª–æ–¥–∏–º–∏—Ä)
- **schukinvova@ukr.net** / Inspector2024 (–©—É–∫—ñ–Ω –í–æ–ª–æ–¥–∏–º–∏—Ä)
- **ig.vir555@gmail.com** / Inspector2024 (–í—ñ—Ä—á–µ–Ω–∫–æ –Ü–≥–æ—Ä)

### –°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏:
- **konstantinborcenko@gmail.com** / Emp2024_001
- **serhii53@gmail.com** / Emp2024_002
- ... (–≤—Å—ñ —ñ–Ω—à—ñ –∑—ñ —Å–ø–∏—Å–∫—É –≤ `RESET_DATABASE.md`)

---

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ Supabase Dashboard

1. **Authentication** ‚Üí **Users** ‚Äî –ø–æ–±–∞—á–∏—Ç–µ –≤—Å—ñ—Ö 33 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
2. **Table Editor** ‚Üí `organizations` ‚Äî –ø–æ–±–∞—á–∏—Ç–µ "W-Garage"
3. **Table Editor** ‚Üí `memberships` ‚Äî –ø–æ–±–∞—á–∏—Ç–µ —Ä–æ–ª—å –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

---

## –©–æ –¥–∞–ª—ñ?

–¢–µ–ø–µ—Ä —É –≤–∞—Å –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∞ CRM:

‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑ RLS  
‚úÖ –£—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑ –ø–∞—Ä–æ–ª—è–º–∏  
‚úÖ –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è —Ç–∞ —Ä–æ–ª—ñ  
‚úÖ Pipeline –ø—Ä–æ–¥–∞–∂—ñ–≤  
‚úÖ –ê–≤—Ç–æ—Ä—ñ–∑–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î  

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:**
1. –î–æ–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–æ–≥—ñ–Ω—É (–ø—Ä–∏–∫–ª–∞–¥: `src/App.supabase-example.tsx`)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–ª—è –∫–æ–º–ø–∞–Ω—ñ–π/–∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤/—É–≥–æ–¥
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:**
- –ü—Ä–∏–∫–ª–∞–¥–∏ CRUD: `docs/supabase-cheatsheet.md`
- –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `docs/SUPABASE_SETUP.md`

---

## Troubleshooting

### "Error: Invalid JWT" –ø—ñ–¥ —á–∞—Å –º—ñ–≥—Ä–∞—Ü—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `SUPABASE_SERVICE_ROLE_KEY` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π (Settings ‚Üí API ‚Üí service_role)

### "Email already registered"
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∂–µ —ñ—Å–Ω—É—î. –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —è–∫—â–æ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ.
- –í–∏–¥–∞–ª—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É Dashboard ‚Üí Authentication ‚Üí Users –∞–±–æ –ø—Ä–æ–ø—É—Å—Ç—ñ—Ç—å –ø–æ–º–∏–ª–∫—É

### "Permission denied"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ SQL-—Å—Ö–µ–º–∞ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–∞ (–∫—Ä–æ–∫ 3)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç —É Supabase (Settings ‚Üí General ‚Üí Pause/Resume)

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à CRM W-Garage –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —ñ –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–±–æ—Ç–∏!
